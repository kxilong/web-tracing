### 问题：

1. 记录点击行为现在用的是节流方式，这样好吗？

2. 页面复杂 DOM 数量多的情况下，全量快照会很耗时，页面渲染会被阻塞，用户强感知（rrweb 算法问题，需要修）

3. 异常召回策略，即出现异常后自动上报，一旦发生整站故障，那么大概率会所有用户一起上报，重复率很高，server 迎来流量洪峰，考虑下怎么扛，以及是否有必要采集所有重复异常的录屏

4. 压缩、上报这种操作应该放到 worker 里去做，另外 pack.js 太大了，建议换 fflate

5. 兜底开关，业务系统接入录屏，一旦发生性能问题，第一个就会怀疑是你造成的，所以，给自己加个全局开关吧，远程一键关闭及时止损

6. 现在用的是本地错误缓存，如果界面刷新了，同一个错误还是会继续上报

### 已知问题

[腾讯三面：说说前端监控平台/监控 SDK 的架构设计和难点亮点？](https://juejin.cn/post/7108660942686126093)

1. SDK 如何实现异常隔离以及上报？(已解决)

2. 平台数据如何进行 削峰限流？

### 数据上报方式

支持图片打点上报和 fetch 请求上报两种方式

图片打点上报的优势：
1）支持跨域，一般而言，上报域名都不是当前域名，上报的接口请求会构成跨域
2）体积小且不需要插入 dom 中
3）不需要等待服务器返回数据

图片打点缺点是：url 受浏览器长度限制
